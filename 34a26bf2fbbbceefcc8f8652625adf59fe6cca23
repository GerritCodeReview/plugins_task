{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "e37fc1f7_6ba9cb55",
        "filename": "WORKSPACE",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2023-10-05T04:25:34Z",
      "side": 1,
      "message": "Is it intentional to have both the 3 \u0026 4 runtimes?",
      "revId": "34a26bf2fbbbceefcc8f8652625adf59fe6cca23",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "502f2742_6da1ba01",
        "filename": "WORKSPACE",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 1152670
      },
      "writtenOn": "2023-10-05T04:49:54Z",
      "side": 1,
      "message": "Yes, Runtime 4 is needed for building task plugin files and runtime 3 is needed internally for rules_antlr.\n\nWithout runtime 3 build fails with error: \nevery rule of type antlr implicitly depends upon the target \u0027@antlr3_runtime//jar:jar\u0027, but this target could not be found because of: no such package \u0027@antlr3_runtime//jar\u0027",
      "parentUuid": "e37fc1f7_6ba9cb55",
      "revId": "34a26bf2fbbbceefcc8f8652625adf59fe6cca23",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "71f01276_4181f0f6",
        "filename": "WORKSPACE",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 1152670
      },
      "writtenOn": "2023-10-05T04:53:02Z",
      "side": 1,
      "message": "Zuul build is failing because we\u0027re building the task plugin in-tree, since these dependencies are not present in core WORKSPACE. Looking for workaround to resolve this.",
      "parentUuid": "502f2742_6da1ba01",
      "revId": "34a26bf2fbbbceefcc8f8652625adf59fe6cca23",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5f05679_5881cac5",
        "filename": "WORKSPACE",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2023-10-05T04:55:11Z",
      "side": 1,
      "message": "\u003e Zuul build is failing because we\u0027re building the task plugin in-tree, since these dependencies are not present in core WORKSPACE. Looking for workaround to resolve this.\n\nYou should be putting them into `external_plugin_deps.bzl` like other standalone plugins do",
      "parentUuid": "71f01276_4181f0f6",
      "revId": "34a26bf2fbbbceefcc8f8652625adf59fe6cca23",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0ac38193_5aa2e498",
        "filename": "WORKSPACE",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 1152670
      },
      "writtenOn": "2023-10-05T05:00:16Z",
      "side": 1,
      "message": "I tried that but facing other errors like: \n\nIf I just move the dependencies in `external_plugin_deps.bzl`:\n\n\u003e load statement not at top level\n\n\n\nIf I move the load statements at the top:\n\n\u003e Cycle in the workspace file detected. This indicates that a repository is used prior to being defined.\nThe following chain of repository dependencies lead to the missing definition.\n - @rules_antlr\nThis could either mean you have to add the \u0027@rules_antlr\u0027 repository with a statement like `http_archive` in your WORKSPACE file (note that transitive dependencies are not added automatically), or move an existing definition earlier in your WORKSPACE file.\nERROR: cycles detected during target parsing",
      "parentUuid": "d5f05679_5881cac5",
      "revId": "34a26bf2fbbbceefcc8f8652625adf59fe6cca23",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23869834_a0e8b013",
        "filename": "WORKSPACE",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2023-10-05T05:03:54Z",
      "side": 1,
      "message": "\u003e I tried that but facing other errors like: \n\u003e \n\u003e If I just move the dependencies in `external_plugin_deps.bzl`:\n\u003e \n\u003e \u003e load statement not at top level\n\u003e \n\u003e \n\u003e \n\u003e If I move the load statements at the top:\n\u003e \n\u003e \u003e Cycle in the workspace file detected. This indicates that a repository is used prior to being defined.\n\u003e The following chain of repository dependencies lead to the missing definition.\n\u003e  - @rules_antlr\n\u003e This could either mean you have to add the \u0027@rules_antlr\u0027 repository with a statement like `http_archive` in your WORKSPACE file (note that transitive dependencies are not added automatically), or move an existing definition earlier in your WORKSPACE file.\n\u003e ERROR: cycles detected during target parsing\n\nThere must be some other issue happening then. I don\u0027t think you need antlr3 if you\u0027re correctly including antlr4 and using external_plugin_deps.bzl works in other standalone plugins.",
      "parentUuid": "0ac38193_5aa2e498",
      "revId": "34a26bf2fbbbceefcc8f8652625adf59fe6cca23",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3f05b500_439077af",
        "filename": "WORKSPACE",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2023-10-06T19:37:22Z",
      "side": 1,
      "message": "\u003e There must be some other issue happening then. I don\u0027t think you need antlr3 if you\u0027re correctly including antlr4 and using external_plugin_deps.bzl works in other standalone plugins.\n\nI checked the maven dependencies and it does turn out that antlr3 is needed at runtime for antlr4. Strange.\n\nI did move the antlr4 deps into `external_plugin_deps.bzl` and it seems to work fine.",
      "parentUuid": "23869834_a0e8b013",
      "revId": "34a26bf2fbbbceefcc8f8652625adf59fe6cca23",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}